{"version":3,"sources":["webpack:///./src/views/Invitations.vue?b48d","webpack:///src/views/Invitations.vue","webpack:///./src/views/Invitations.vue?2b67","webpack:///./src/views/Invitations.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","bottom","scopedSlots","_u","key","fn","ref","on","_g","click","$event","invite","_v","joinInvite","value","error","msg","type","_s","fluid","headers","items","hide-actions","props","item","Invitation","Name","inputData","inputDialogData","staticRenderFns","Invitationsvue_type_script_lang_js_","name","components","MyInputDialog","data","text","title","inputName","inputText","visible","processOK","methods","self","ok","nodeName","WebServices","then","result","console","log","$store","dispatch","updateInvitations","err","showInputDialog","invitation","joinInvitation","_this","getInvitations","computed","state","mounted","views_Invitationsvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","installComponents_default","VAlert","VBtn","VCard","VContainer","VDataTable","VIcon","VSpacer","VGrid","VToolbar","VTooltip"],"mappings":"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","file":"js/chunk-2d22666d.24518a2c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{staticClass:\"my-toolbar\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({on:{\"click\":function($event){return _vm.invite()}}},on),[_c('v-icon',[_vm._v(\"cloud_upload\")])],1)]}}])},[_c('span',[_vm._v(\"Generate an Invitation for a Node\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({on:{\"click\":function($event){return _vm.joinInvite()}}},on),[_c('v-icon',[_vm._v(\"cloud_download\")])],1)]}}])},[_c('span',[_vm._v(\"Join a VPN using an Invitation\")])]),_c('v-spacer')],1),_c('v-alert',{attrs:{\"value\":_vm.error.msg!=null,\"type\":_vm.error.type}},[_vm._v(_vm._s(_vm.error.msg))]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"hide-actions\":\"true\"},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_vm._v(_vm._s(props.item.Invitation))]),_c('td',[_vm._v(_vm._s(props.item.Name))])]}}])})],1),_c('MyInputDialog',{attrs:{\"inputData\":_vm.inputDialogData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n   Manage Invitations\n-->\n\n<template>\n    <div>\n        <v-toolbar   class=\"my-toolbar\">\n            <v-tooltip bottom>\n                <span>Generate an Invitation for a Node</span>\n                <template v-slot:activator=\"{ on }\">\n                    <v-btn v-on=\"on\" v-on:click=\"invite()\" >\n                        <v-icon>cloud_upload</v-icon>\n                    </v-btn>   \n                </template>\n            </v-tooltip>\n\n            <v-tooltip bottom>\n                <span>Join a VPN using an Invitation</span>\n                <template v-slot:activator=\"{ on }\">\n                    <v-btn v-on=\"on\" v-on:click=\"joinInvite()\" >\n                       <v-icon>cloud_download</v-icon>\n                    </v-btn>   \n                </template>\n            </v-tooltip>\n\n            <v-spacer/>\n        </v-toolbar>\n        <v-alert :value=\"error.msg!=null\" :type=\"error.type\">{{error.msg}}</v-alert>\n        <v-container fluid>\n            <v-card>\n                    <v-data-table\n                        :headers=\"headers\"\n                        :items=\"items\"\n                        hide-actions=true\n\n                        class=\"elevation-1\">\n                        <template v-slot:items=\"props\">\n                        <td>{{ props.item.Invitation }}</td>\n                        <td>{{ props.item.Name }}</td>\n                        </template>\n                    </v-data-table>\n            </v-card>\n            <MyInputDialog :inputData=\"inputDialogData\"/>\n        </v-container>\n    </div>\n</template>\n\n<script>\n    import WebServices from \"@/services/WebServices\"\n    import MyInputDialog from \"@/components/MyInputDialog\"\n\n    export default {\n        name: \"Invitations\",\n\n        components: { MyInputDialog },\n\n        data: () => ({\n            headers: [\n                { text: 'Invitation',value: 'Invitation' },\n                { text: 'Name', value: 'Name' },\n            ],\n            items: [],\n            inputDialogData: {\n                 title: 'Title',\n                 text: 'Text',\n                 inputName: 'inputName', \n                 inputText: '', \n                 visible: false, \n                 processOK: null \n            }\n        }),\n\n        methods: {\n            invite() {\n                var self = this\n                var ok = (nodeName) => {\n                    WebServices.invite(nodeName).then( result => {\n                        console.log(result); \n                        var msg = 'The invitation is: '+result.data\n                        self.$store.dispatch('setError', {type:'success', msg: msg })\n\n                        self.updateInvitations()\n                    }, err => {\n                        self.$store.dispatch('setError', err)\n                    });\n                }\n                this.showInputDialog('Create Invitation','Enter the Node Name for the Invitation:','Node Name', ok )\n            }, \n\n            joinInvite() {\n                var self = this\n                var ok = (invitation) => {\n                    WebServices.joinInvitation(invitation).then( result => {\n                        console.log(result); \n                        self.updateInvitations()\n                    }, err => {\n                        self.$store.dispatch('setError', err)\n                    });\n                }\n                this.showInputDialog('Join Invitation','Enter the generated Invitation:','Invitation', ok )\n            },\n\n            showInputDialog(title, text, inputName, ok){\n                this.$store.dispatch(\"setError\", null)\n                this.inputDialogData.title = title\n                this.inputDialogData.text = text\n                this.inputDialogData.inputName = inputName\n                this.inputDialogData.inputText = ''\n                this.inputDialogData.processOK = ok\n                this.inputDialogData.visible = true\n            },\n\n            updateInvitations() {\n                WebServices.getInvitations().then(result => {\n                    this.items = result.data\n                },error => {\n                    this.$store.dispatch('setError', error)\n                })\n            },\n        },\n\n        computed: {\n            error() {\n                return this.$store.state.error\n            },\n        },\n\n        mounted() {\n            this.updateInvitations()\n        }\n    }\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invitations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invitations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invitations.vue?vue&type=template&id=a92b26ca&\"\nimport script from \"./Invitations.vue?vue&type=script&lang=js&\"\nexport * from \"./Invitations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/pschatzmann/go/src/github.com/pschatzmann/tincwebgui/gui/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDataTable } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VTooltip } from 'vuetify/lib'\ninstallComponents(component, {VAlert,VBtn,VCard,VContainer,VDataTable,VIcon,VSpacer,VToolbar,VTooltip})\n"],"sourceRoot":""}